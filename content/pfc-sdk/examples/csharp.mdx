---
title: C# Examples
description: Sample code for .NET/C# applications
---

# C# Examples

Sample source code for .NET/C# applications. These examples show different usage models and provide a starting point for production applications.

## Simple AI Sample

The simplest way to use Perfectly Clear AI in C#.

### 1. Setup License Protection

```csharp
using PerfectlyClearAdapter;

// Set the path to the license files
PerfectlyClear pfc = new PerfectlyClear("C:\\path\\to\\sdk_license");
```

### 2. Load AI Engine

```csharp
string execPath = AppDomain.CurrentDomain.BaseDirectory;
int aiStatus = pfc.LoadAiEngine(
    PFCAIFEATURE.AI_SCENE_DETECTION | PFCAIFEATURE.AI_CORRECTIONS,
    execPath
);
```

### 3. Load and Correct Image

```csharp
using System.Drawing;

Bitmap bm = new Bitmap("input.jpg");
int result = pfc.AutoCorrect(ref bm);

if (result == (int)PFCAPPLYSTATUS.APPLY_SUCCESS)
{
    Console.WriteLine("Image processed successfully");
}
```

### 4. Save the Corrected Image

```csharp
bm.Save("output.jpg");
```

## Detailed AI Sample - Custom Presets

Load custom Scene Detection presets:

```csharp
int presetStatus = pfc.LoadScenePresets("custom_scenes.preset");
if (presetStatus != 0)
{
    Console.WriteLine($"Failed to load presets: {presetStatus}");
}
```

## Using PFCImageFile for Color Management

For better color management, use `PFCImageFile` instead of `Bitmap`:

```csharp
PFCImageFile imageFile = new PFCImageFile();
imageFile.LoadImageFile("input.jpg", true, null);

int result = pfc.AutoCorrect(imageFile);

imageFile.SaveImageFile("output.jpg", 90, true, true);
```

## Memory Stream Processing

Process images from memory streams:

```csharp
public byte[] ProcessImage(byte[] inputBytes)
{
    PFCImageFile imageFile = new PFCImageFile();
    imageFile.LoadFromMemory(inputBytes, inputBytes.Length, 
        PFCImageFile.FileType.JPEG, true, null);

    pfc.AutoCorrect(imageFile);

    return imageFile.SaveToMemory(
        PFCImageFile.FileType.JPEG, 
        90, true, true
    );
}
```

## Required References

Add references to:

- `PerfectlyClearAdapter.dll`
- `System.Drawing.Common` (for .NET Core)

Copy native DLLs to output directory:

- `PerfectlyClearPro.dll`
- `PFCImageFile.dll`
- AI model files (`.pnn`)

---

*Copyright Â© 2025 EyeQ Imaging Inc*
